<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zappy: C Vector Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zappy<span id="projectnumber">&#160;1.2</span>
   </div>
   <div id="projectbrief">Documentation for the Zappy project at EPITECH</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_server_lib_vector_libvector.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">C Vector Library </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >The <code>vector</code> library provides functions for managing dynamic arrays (vectors) in C. It allows you to resize the array, add elements to the back, remove elements, initialize the array, and free the array's content.</p>
<h2>Data Structures</h2>
<p >The library defines the following data structure:</p>
<h3><code><a class="el" href="structvector__template__t.html" title="Representation of a dynamic list.">vector_template_t</a></code></h3>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    <span class="keywordtype">size_t</span> len;</div>
<div class="line">    <span class="keywordtype">size_t</span> element_size;</div>
<div class="line">    <span class="keywordtype">void</span> **content;</div>
<div class="line">} <a class="code hl_struct" href="structvector__template__t.html">vector_template_t</a>;</div>
<div class="ttc" id="astructvector__template__t_html"><div class="ttname"><a href="structvector__template__t.html">vector_template_t</a></div><div class="ttdoc">Representation of a dynamic list.</div><div class="ttdef"><b>Definition:</b> vector.h:21</div></div>
</div><!-- fragment --><ul>
<li><code>len</code>: The current length of the array.</li>
<li><code>element_size</code>: The size of each element in the array.</li>
<li><code>content</code>: An array of pointers to elements.</li>
</ul>
<h2>Functions</h2>
<p >The library provides the following functions:</p>
<h3><code>int <a class="el" href="vector_8h.html#ad689299a853a7b96ba59935fad06ee8f" title="Resize dynamic array to new_len.">vector_resize(vector_template_t *array, size_t new_len)</a></code></h3>
<p >Resizes the dynamic array to the specified length (<code>new_len</code>). Returns -1 in case of error, else 0.</p>
<h3><code>int <a class="el" href="vector_8h.html#ad8917aa7a64754c662cefaeeedc911f3" title="Add element pointer to the back of the array.">vector_push_back(vector_template_t *array, void *element)</a></code></h3>
<p >Adds an element pointer to the back of the array. Returns -1 in case of error, else 0.</p>
<h3><code>int <a class="el" href="vector_8h.html#aeddff076014385d6ab780ed528b160de" title="Add a copy of data from element to the back of the array. This function uses malloc to duplicate data...">vector_push_back_copy(vector_template_t *array, void *element)</a></code></h3>
<p >Adds a copy of data from <code>element</code> to the back of the array. This function duplicates the data using <code>malloc</code>. Returns -1 in case of error, else 0.</p>
<h3><code>void *vector_remove_by_pos(<a class="el" href="structvector__template__t.html" title="Representation of a dynamic list.">vector_template_t</a> *array, size_t pos)</code></h3>
<p >Removes an element at the specified index (<code>pos</code>) from the array. Returns NULL in case of error, else the removed element.</p>
<h3><code>void *vector_remove_by_ptr(<a class="el" href="structvector__template__t.html" title="Representation of a dynamic list.">vector_template_t</a> *array, void *ptr)</code></h3>
<p >Removes a pointer to an element from the array. Returns NULL in case of error, else the removed element.</p>
<h3><code>int <a class="el" href="vector_8h.html#a30bc857059b6fe0f0233722d5bf512ed" title="Init the dynamic array.">vector_init(vector_template_t *array, size_t element_size)</a></code></h3>
<p >Initializes the dynamic array. Returns -1 in case of error, else 0.</p>
<h3><code>int <a class="el" href="vector_8h.html#ade3cf70cc0a33b88e978dc08e1645f5d" title="Frees the content of the array, not the struct passed as parameter. All the structures added via poin...">vector_free_content(vector_template_t *array)</a></code></h3>
<p >Frees the content of the array, not the struct passed as a parameter. All the structures added via pointer are also freed. Returns -1 in case of error, else 0.</p>
<h3><code>int vector_free_content_with_function(<a class="el" href="structvector__template__t.html" title="Representation of a dynamic list.">vector_template_t</a> *array, void (*free_func)(void *data))</code></h3>
<p >Frees the content of the array using a custom free function. All the structures added via pointer are also freed using the specified <code>free_func</code>. Returns -1 in case of error, else 0.</p>
<h3><code>int <a class="el" href="vector_8h.html#abdd525b45e0ae4c0fd1db8cca0acd6da" title="Frees the vector content but not the user added content. It only frees the internal array.">vector_free(vector_template_t *array)</a></code></h3>
<p >Frees the vector content but not the user-added content. It only frees the internal array. Returns -1 in case of error, else 0.</p>
<h2>Example Usage</h2>
<p >Here's an example code snippet demonstrating the usage of the <code>vector</code> library:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="vector_8h.html">vector/vector.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    <span class="keywordtype">int</span> value;</div>
<div class="line">} <a class="code hl_function" href="data_8h.html#a3795526833882132c9a0042e4a27dfd3">__attribute__</a>((packed)) MyStruct;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Define the MyStruct vector struct using the vector_struct macro</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code hl_define" href="vector_8h.html#aa984d90a467f3da9974ed4d80ef86eda">vector_struct</a>(MyStruct) MyStructVector;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="_main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a>() {</div>
<div class="line">    MyStructVector vector;</div>
<div class="line">    <a class="code hl_function" href="lib_2vector_2init_8c.html#a30bc857059b6fe0f0233722d5bf512ed">vector_init</a>(<a class="code hl_define" href="vector_8h.html#a41c0d184e1bb000cde6ef5ecdcaad79a">vectorize</a>(&amp;vector), <span class="keyword">sizeof</span>(MyStruct));</div>
<div class="line"> </div>
<div class="line">    MyStruct element;</div>
<div class="line">    element.value = 42;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="element_8c.html#ad8917aa7a64754c662cefaeeedc911f3">vector_push_back</a>(<a class="code hl_define" href="vector_8h.html#a41c0d184e1bb000cde6ef5ecdcaad79a">vectorize</a>(&amp;vector), &amp;element);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="lib_2vector_2init_8c.html#abdd525b45e0ae4c0fd1db8cca0acd6da">vector_free</a>(<a class="code hl_define" href="vector_8h.html#a41c0d184e1bb000cde6ef5ecdcaad79a">vectorize</a>(&amp;vector));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="a_main_8cpp_html_a3c04138a5bfe5d72780bb7e82a18e627"><div class="ttname"><a href="_main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a></div><div class="ttdeci">int main(int argc, char **argv)</div><div class="ttdef"><b>Definition:</b> Main.cpp:15</div></div>
<div class="ttc" id="adata_8h_html_a3795526833882132c9a0042e4a27dfd3"><div class="ttname"><a href="data_8h.html#a3795526833882132c9a0042e4a27dfd3">__attribute__</a></div><div class="ttdeci">__attribute__((format(printf, 2, 3))) int sendf_response(connection_t *con</div></div>
<div class="ttc" id="aelement_8c_html_ad8917aa7a64754c662cefaeeedc911f3"><div class="ttname"><a href="element_8c.html#ad8917aa7a64754c662cefaeeedc911f3">vector_push_back</a></div><div class="ttdeci">int vector_push_back(vector_template_t *array, void *element)</div><div class="ttdoc">Add element pointer to the back of the array.</div><div class="ttdef"><b>Definition:</b> element.c:10</div></div>
<div class="ttc" id="alib_2vector_2init_8c_html_a30bc857059b6fe0f0233722d5bf512ed"><div class="ttname"><a href="lib_2vector_2init_8c.html#a30bc857059b6fe0f0233722d5bf512ed">vector_init</a></div><div class="ttdeci">int vector_init(vector_template_t *array, size_t element_size)</div><div class="ttdoc">Init the dynamic array.</div><div class="ttdef"><b>Definition:</b> init.c:21</div></div>
<div class="ttc" id="alib_2vector_2init_8c_html_abdd525b45e0ae4c0fd1db8cca0acd6da"><div class="ttname"><a href="lib_2vector_2init_8c.html#abdd525b45e0ae4c0fd1db8cca0acd6da">vector_free</a></div><div class="ttdeci">int vector_free(vector_template_t *array)</div><div class="ttdoc">Frees the vector content but not the user added content. It only frees the internal array.</div><div class="ttdef"><b>Definition:</b> init.c:54</div></div>
<div class="ttc" id="avector_8h_html"><div class="ttname"><a href="vector_8h.html">vector.h</a></div></div>
<div class="ttc" id="avector_8h_html_a41c0d184e1bb000cde6ef5ecdcaad79a"><div class="ttname"><a href="vector_8h.html#a41c0d184e1bb000cde6ef5ecdcaad79a">vectorize</a></div><div class="ttdeci">#define vectorize(ptr)</div><div class="ttdoc">Casts a pointer to a vector template. Useful to use the generic vector functions on a user defined ve...</div><div class="ttdef"><b>Definition:</b> vector.h:175</div></div>
<div class="ttc" id="avector_8h_html_aa984d90a467f3da9974ed4d80ef86eda"><div class="ttname"><a href="vector_8h.html#aa984d90a467f3da9974ed4d80ef86eda">vector_struct</a></div><div class="ttdeci">#define vector_struct(type)</div><div class="ttdoc">Generate a struct according to template vector_template_t with the type as input.</div><div class="ttdef"><b>Definition:</b> vector.h:182</div></div>
</div><!-- fragment --><p >This example demonstrates how to use the <code>vector</code> library. It initializes a vector of <code>MyStruct</code> elements, adds an element to the back of the vector, and then frees the vector's content.</p>
<h2>Advanced examples</h2>
<p >Here's an example code snippet demonstrating the usage of the advanced functions <code>vector_remove_by_ptr</code>, <code>vector_save_content</code>, and <code>vector_load_content</code>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="vector_8h.html">vector/vector.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="vector_8c.html#aa6419bbcfbe46a01641c0d46d750977c">save_func</a>(<span class="keywordtype">void</span> *data, FILE *file)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> s_fwrite(data, <span class="keyword">sizeof</span>(MyStruct), file);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> *<a class="code hl_function" href="vector_8c.html#a35071096ab7d31f065838e9a852f6e23">load_func</a>(FILE *file)</div>
<div class="line">{</div>
<div class="line">    MyStruct *element = malloc(<span class="keyword">sizeof</span>(MyStruct));</div>
<div class="line">    <span class="keywordflow">if</span> (s_fread(element, <span class="keyword">sizeof</span>(MyStruct), file)) {</div>
<div class="line">        free(element);</div>
<div class="line">        <span class="keywordflow">return</span> NULL;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> element;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="_main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a>()</div>
<div class="line">{</div>
<div class="line">    MyStructVector vector;</div>
<div class="line">    <a class="code hl_function" href="lib_2vector_2init_8c.html#a30bc857059b6fe0f0233722d5bf512ed">vector_init</a>(<a class="code hl_define" href="vector_8h.html#a41c0d184e1bb000cde6ef5ecdcaad79a">vectorize</a>(&amp;vector), <span class="keyword">sizeof</span>(MyStruct));</div>
<div class="line"> </div>
<div class="line">    MyStruct element1;</div>
<div class="line">    element1.value = 42;</div>
<div class="line"> </div>
<div class="line">    MyStruct element2;</div>
<div class="line">    element2.value = 24;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="element_8c.html#ad8917aa7a64754c662cefaeeedc911f3">vector_push_back</a>(<a class="code hl_define" href="vector_8h.html#a41c0d184e1bb000cde6ef5ecdcaad79a">vectorize</a>(&amp;vector), &amp;element1);</div>
<div class="line">    <a class="code hl_function" href="element_8c.html#ad8917aa7a64754c662cefaeeedc911f3">vector_push_back</a>(<a class="code hl_define" href="vector_8h.html#a41c0d184e1bb000cde6ef5ecdcaad79a">vectorize</a>(&amp;vector), &amp;element2);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Save vector content to a file</span></div>
<div class="line">    FILE *file = fopen(<span class="stringliteral">&quot;test_vector.bin&quot;</span>, <span class="stringliteral">&quot;wb&quot;</span>);</div>
<div class="line">    <span class="keywordtype">int</span> save_result = <a class="code hl_function" href="save_8c.html#ae2311a3c225284ab361be7e312bcadb0">vector_save_content</a>(<a class="code hl_define" href="vector_8h.html#a41c0d184e1bb000cde6ef5ecdcaad79a">vectorize</a>(&amp;vector), file, &amp;<a class="code hl_function" href="vector_8c.html#aa6419bbcfbe46a01641c0d46d750977c">save_func</a>);</div>
<div class="line">    fclose(file);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ...</span></div>
<div class="line"> </div>
<div class="line">    MyStructVector vector2;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="lib_2vector_2init_8c.html#a30bc857059b6fe0f0233722d5bf512ed">vector_init</a>(<a class="code hl_define" href="vector_8h.html#a41c0d184e1bb000cde6ef5ecdcaad79a">vectorize</a>(&amp;vector2), <span class="keyword">sizeof</span>(MyStruct));</div>
<div class="line">    <span class="comment">// Load vector content from the file</span></div>
<div class="line">    file = fopen(<span class="stringliteral">&quot;test_vector.bin&quot;</span>, <span class="stringliteral">&quot;rb&quot;</span>);</div>
<div class="line">    <span class="keywordtype">int</span> load_result = <a class="code hl_function" href="save_8c.html#adf03b9d6bfade1808eb99d80f5edb054">vector_load_content</a>(<a class="code hl_define" href="vector_8h.html#a41c0d184e1bb000cde6ef5ecdcaad79a">vectorize</a>(&amp;vector2), file, &amp;<a class="code hl_function" href="vector_8c.html#a35071096ab7d31f065838e9a852f6e23">load_func</a>);</div>
<div class="line">    fclose(file);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ...</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="asave_8c_html_adf03b9d6bfade1808eb99d80f5edb054"><div class="ttname"><a href="save_8c.html#adf03b9d6bfade1808eb99d80f5edb054">vector_load_content</a></div><div class="ttdeci">int vector_load_content(vector_template_t *array, FILE *file, vector_func_load_t load_func)</div><div class="ttdef"><b>Definition:</b> save.c:49</div></div>
<div class="ttc" id="asave_8c_html_ae2311a3c225284ab361be7e312bcadb0"><div class="ttname"><a href="save_8c.html#ae2311a3c225284ab361be7e312bcadb0">vector_save_content</a></div><div class="ttdeci">int vector_save_content(vector_template_t *array, FILE *file, vector_func_save_t save_func)</div><div class="ttdef"><b>Definition:</b> save.c:25</div></div>
<div class="ttc" id="avector_8c_html_a35071096ab7d31f065838e9a852f6e23"><div class="ttname"><a href="vector_8c.html#a35071096ab7d31f065838e9a852f6e23">load_func</a></div><div class="ttdeci">void * load_func(FILE *file)</div><div class="ttdef"><b>Definition:</b> vector.c:175</div></div>
<div class="ttc" id="avector_8c_html_aa6419bbcfbe46a01641c0d46d750977c"><div class="ttname"><a href="vector_8c.html#aa6419bbcfbe46a01641c0d46d750977c">save_func</a></div><div class="ttdeci">int save_func(void *data, FILE *file)</div><div class="ttdef"><b>Definition:</b> vector.c:170</div></div>
</div><!-- fragment --><p >This example demonstrates how to use the <code>vector_remove_by_ptr</code> function to remove an element by its pointer, <code>vector_save_content</code> to save the vector's content to a file, and <code>vector_load_content</code> to load the vector's content from a file. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
