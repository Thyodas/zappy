<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zappy: Zappy GUI</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zappy<span id="projectnumber">&#160;1.2</span>
   </div>
   <div id="projectbrief">Documentation for the Zappy project at EPITECH</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_gui__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Zappy <a class="el" href="namespace_g_u_i.html">GUI</a> </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >The Zappy <a class="el" href="namespace_g_u_i.html">GUI</a> is a graphical interface in charge of receiving commands from the Zappy Server and display the data accordingly. The <a class="el" href="namespace_g_u_i.html">GUI</a> protocol is defined in <a href="#gui-protocol">Gui Protocol</a>.</p>
<h1>Table of Contents</h1>
<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#usage">Usage</a><ul>
<li><a href="#how-to-use">How to use</a></li>
<li><a href="#keys">Keys</a></li>
</ul>
</li>
<li><a href="#contribute">Contribute</a><ul>
<li><a href="#configuration-file">Configuration file</a><ul>
<li><a href="#add-a-new-model">Add a new model</a></li>
</ul>
</li>
<li><a href="#add-a-graphical-library">Add a graphical library</a></li>
</ul>
</li>
<li><a href="#credits">Credits</a></li>
<li><a href="#license">License</a></li>
</ul>
<h1>Installation</h1>
<hr  />
<p >Depending on your OS (Operating System), you will need to install the following packages / libraries on order to run the program.</p>
<ul>
<li><a href="https://cmake.org/download/">CMake</a></li>
<li><a href="https://gcc.gnu.org/install/">C++ Compiler</a></li>
<li><a href="https://github.com/hyperrealm/libconfig">LibConfig</a></li>
<li><a href="https://github.com/raysan5/raylib">RayLib</a></li>
</ul>
<h1>Usage</h1>
<hr  />
<h2>How to use</h2>
<p >In order to run the program, compile the project with the following commands: </p><div class="fragment"><div class="line">$ git git@github.com:EpitechPromo2026/B-YEP-400-STG-4-1-zappy-remi.mergen.git</div>
<div class="line">$ cd B-YEP-400-STG-4-1-zappy-remi.mergen/gui</div>
<div class="line">$ cmake . &amp;&amp; make -j</div>
<div class="line">$ ./zappy_gui [-h host] -p port</div>
</div><!-- fragment --><p >Parameters:</p><ul>
<li>-h: ip adress of the server (by default localhost)</li>
<li>-p: port of the server</li>
</ul>
<hr  />
<h2>Keys</h2>
<p >The available keys are:</p><ul>
<li>Z: Zoom in</li>
<li>S: Zoom out</li>
<li>Arrow left: Rotate to the left and left block in selection mode</li>
<li>Arrow Right: Rotate to the right and right block in selection mode</li>
<li>Arrow up: Upside zoom and up block in selection mode</li>
<li>Arrow down: Downside zoom and down block in selection mode</li>
<li>H: Hide objects</li>
<li>R: Selection mode (Shows the content of a cell / player)</li>
<li>Left Mouse Click: Selection mode for a player</li>
</ul>
<h1>Contribute</h1>
<hr  />
<h2>Configuration file</h2>
<p >In order to load the models, a config.cfg file is available at the root of the gui folder and contains the following a models field which is a list of model. A model is described by the following fields which are all required:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Name   </th><th class="markdownTableHeadCenter">Type   </th><th class="markdownTableHeadCenter">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">name   </td><td class="markdownTableBodyCenter">string   </td><td class="markdownTableBodyCenter">Name of the model    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">modelPath   </td><td class="markdownTableBodyCenter">string   </td><td class="markdownTableBodyCenter">Path of the model    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">texturePath   </td><td class="markdownTableBodyCenter">string   </td><td class="markdownTableBodyCenter">Path of the model's texture    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">scale   </td><td class="markdownTableBodyCenter">float   </td><td class="markdownTableBodyCenter">Displayed scale of the model    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">rotation   </td><td class="markdownTableBodyCenter">list of floats   </td><td class="markdownTableBodyCenter">Displayed rotation of the model    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">animation   </td><td class="markdownTableBodyCenter">boolean   </td><td class="markdownTableBodyCenter">Animation in the model or not   </td></tr>
</table>
<hr  />
<h2>Add a new model</h2>
<p >In order to add a new model, follow these steps:</p>
<ol type="1">
<li>Add a new model in the config.cfg file with the fields described above (models are located in ./assets/models/).</li>
<li>In the <code>enum</code> data structure located in <code>./include/Model.hpp</code>, add a new element with the name of the new model.</li>
<li>Finaly,in the Parser class constructor (default parser), add a new element inside the variable <code>std::map&lt;<a class="el" href="namespace_g_u_i.html#ac84ef6f320c183cac8607f79af219a82">GUI::ModelEntity</a>, std::string&gt; _models;</code>. (I.e. <code>{GUI::ModelEntity::EGG, "egg"}</code>).</li>
</ol>
<hr  />
<h2>Add a Graphical Library</h2>
<p >By default, the zappy gui uses the RayLib library, but any 3D library can be used (not tested on 2D libraries).</p>
<p >The IGraphicalModule interface describes the required methods. (<code>./include/interface/IGraphicalModule.hpp</code>). It should be located in <code>./include/libs/</code>.</p>
<div class="fragment"><div class="line">{c++}</div>
<div class="line">   class IGraphicalModule {</div>
<div class="line">       public:</div>
<div class="line">           virtual ~IGraphicalModule() = default;</div>
<div class="line">           virtual void loadModels(std::unordered_map&lt;ModelEntity, modelConfig&gt; models) = 0;</div>
<div class="line">           virtual void drawModel(ModelEntity model, Vector3f position, float scale, Vector3f rotation) = 0;</div>
<div class="line">           virtual void clear(C_Color color) = 0;</div>
<div class="line">           virtual void init(GUI::Vector2i size) = 0;</div>
<div class="line">           virtual void close() = 0;</div>
<div class="line">           virtual void display() = 0;</div>
<div class="line">           virtual void handleEvents() = 0;</div>
<div class="line">           virtual bool isKeyPressed(GUI::Key key) = 0;</div>
<div class="line">           virtual bool isKeyReleased(GUI::Key key) = 0;</div>
<div class="line">           virtual GUI::Vector2f getMousePosition() = 0;</div>
<div class="line">           virtual void preDraw() = 0;</div>
<div class="line">           virtual void postDraw() = 0;</div>
<div class="line">           virtual GUI::Vector3f getModelSize(ModelEntity model) = 0;</div>
<div class="line">           virtual void drawGrid(Vector2i size, float spacing, GUI::C_Color color) = 0;</div>
<div class="line">           virtual bool isMouseButtonPressed(GUI::Mouse button) = 0;</div>
<div class="line">           virtual GUI::Vector3f mousePosFromGrid(GUI::Vector2i position, int cellSize, GUI::Vector2i numberOfCells) = 0;</div>
<div class="line">           virtual void drawText(std::string text, GUI::Vector2f position, int size, C_Color color) = 0;</div>
<div class="line">           virtual void drawRectangle(GUI::Vector2f position, GUI::Vector2f size, C_Color color) = 0;</div>
<div class="line">           virtual void enable3DMode(std::shared_ptr&lt;ICamera&gt; camera) = 0;</div>
<div class="line">           virtual void disable3DMode() = 0;</div>
<div class="line">           virtual bool isInteraction() = 0;</div>
<div class="line">           virtual void animateModel(ModelEntity model, AnimationType type, int frame) = 0;</div>
<div class="line">           virtual int getMaxFrame(ModelEntity model, AnimationType type) = 0;</div>
<div class="line">           virtual void rotateModel(ModelEntity model, Direction direction) = 0;</div>
<div class="line">           virtual bool isModelSelected(ModelEntity model, Vector3f position, float scale, std::shared_ptr&lt;ICamera&gt; camera) = 0;</div>
<div class="line">   };</div>
</div><!-- fragment --><p >Also, in order to change the library, a camera inheriting from the ICamera interface must be implemented. (<code>./include/interface/ICamera.hpp</code>). It should be located in <code>./include/</code>.</p>
<div class="fragment"><div class="line">{c++}</div>
<div class="line">   class ICamera {</div>
<div class="line">       public:</div>
<div class="line">           virtual ~ICamera() = default;</div>
<div class="line">           virtual void setPosition(Vector3f pos) = 0;</div>
<div class="line">           virtual void setTarget(Vector3f target) = 0;</div>
<div class="line">           virtual void rotateX(float angle) = 0;</div>
<div class="line">           virtual void rotateY(float angle) = 0;</div>
<div class="line">           virtual Vector3f getPosition() const = 0;</div>
<div class="line">           virtual Vector3f getTarget() const = 0;</div>
<div class="line">           virtual void zoom(float value) = 0;</div>
<div class="line">   };</div>
</div><!-- fragment --> <hr  />
<h1>Credits</h1>
<p >List of contributors:</p>
<ul>
<li><a href="https://github.com/nathandebalthasar"><b>Nathan de Balthasar de Gacheo</b></a></li>
<li><a href="https://github.com/Remi-Mergen"><b>Rémi Mergen</b></a></li>
<li><a href="https://github.com/jcardonne"><b>Jean Cardonne</b></a></li>
<li><a href="https://github.com/iMeaNz"><b>Mehdy Morvan</b></a></li>
<li><a href="https://github.com/Thyodas"><b>Guillaume Hein</b></a></li>
</ul>
<hr  />
<h1>License</h1>
<p >MIT License</p>
<p >Copyright (c) 2023 Strayder Inc.</p>
<p >Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p >The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p >THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
