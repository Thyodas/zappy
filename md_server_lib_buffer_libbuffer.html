<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zappy: C Buffer Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zappy<span id="projectnumber">&#160;1.2</span>
   </div>
   <div id="projectbrief">Documentation for the Zappy project at EPITECH</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_server_lib_buffer_libbuffer.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">C Buffer Library </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >The <code>buffer</code> library provides functions for handling string buffers in C. It allows you to write strings to a buffer, read strings from a buffer based on separators or newlines, and manage the buffer's memory.</p>
<h2>Data Structures</h2>
<p >The library defines the following data structure:</p>
<h3><code>string_buffer_t</code></h3>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="structstring__buffer__s.html">string_buffer_s</a> {</div>
<div class="line">    uint32_t <a class="code hl_variable" href="structstring__buffer__s.html#ac2a0b5507892708cdd4270bcd44c7649">len</a>;</div>
<div class="line">    uint32_t <a class="code hl_variable" href="structstring__buffer__s.html#af55210b4b9b2d8aaa1102b66ad9cc6e4">read_bytes</a>;</div>
<div class="line">    <span class="keywordtype">char</span> *<a class="code hl_variable" href="structstring__buffer__s.html#a8d7d064284d38013382141b821839f06">buffer</a>;</div>
<div class="line">} <a class="code hl_typedef" href="buffer_8h.html#a1e068b756d4decfc07fd8cc2a59e4a18">string_buffer_t</a>;</div>
<div class="ttc" id="abuffer_8h_html_a1e068b756d4decfc07fd8cc2a59e4a18"><div class="ttname"><a href="buffer_8h.html#a1e068b756d4decfc07fd8cc2a59e4a18">string_buffer_t</a></div><div class="ttdeci">struct string_buffer_s string_buffer_t</div></div>
<div class="ttc" id="astructstring__buffer__s_html"><div class="ttname"><a href="structstring__buffer__s.html">string_buffer_s</a></div><div class="ttdef"><b>Definition:</b> buffer.h:20</div></div>
<div class="ttc" id="astructstring__buffer__s_html_a8d7d064284d38013382141b821839f06"><div class="ttname"><a href="structstring__buffer__s.html#a8d7d064284d38013382141b821839f06">string_buffer_s::buffer</a></div><div class="ttdeci">char * buffer</div><div class="ttdef"><b>Definition:</b> buffer.h:23</div></div>
<div class="ttc" id="astructstring__buffer__s_html_ac2a0b5507892708cdd4270bcd44c7649"><div class="ttname"><a href="structstring__buffer__s.html#ac2a0b5507892708cdd4270bcd44c7649">string_buffer_s::len</a></div><div class="ttdeci">uint32_t len</div><div class="ttdef"><b>Definition:</b> buffer.h:21</div></div>
<div class="ttc" id="astructstring__buffer__s_html_af55210b4b9b2d8aaa1102b66ad9cc6e4"><div class="ttname"><a href="structstring__buffer__s.html#af55210b4b9b2d8aaa1102b66ad9cc6e4">string_buffer_s::read_bytes</a></div><div class="ttdeci">uint32_t read_bytes</div><div class="ttdef"><b>Definition:</b> buffer.h:22</div></div>
</div><!-- fragment --><ul>
<li><code>len</code>: The total length of the buffer.</li>
<li><code>read_bytes</code>: The number of bytes that have been read from the buffer.</li>
<li><code>buffer</code>: A character array that holds the string data.</li>
</ul>
<h2>Functions</h2>
<p >The library provides the following functions:</p>
<h3><code>void <a class="el" href="lib_2buffer_2memory_8c.html#a788c4c8cb68e24e6e9e8dccc2f015d35">buffer_init(string_buffer_t *buffer)</a></code></h3>
<p >Initializes a string buffer. This function must be called before using a string buffer.</p>
<h3><code>void <a class="el" href="lib_2buffer_2memory_8c.html#a6a9e6cd5f8f00e7e4d1e8a32dec18ea9">buffer_free_content(string_buffer_t *buffer)</a></code></h3>
<p >Frees the internal buffer and re-initializes the struct. After freeing, the string buffer can be re-used.</p>
<h3><code>int <a class="el" href="lib_2buffer_2memory_8c.html#add8708b2fb0df82528ec29dae287a290">buffer_truncate(string_buffer_t *buffer)</a></code></h3>
<p >Reallocates the buffer by removing the already read part in the buffer. It only truncates if <code>read_bytes &gt; MAX_READ_BUFFER</code>. Returns 1 on error, 0 otherwise.</p>
<h3><code>int <a class="el" href="buffer_8h.html#a72ce0716be4cce85af719d5c4fa92698">buffer_write(string_buffer_t *buffer, const char *string, uint32_t len)</a></code></h3>
<p >Writes a string to the buffer. Takes the string and its length as input. Returns 1 on error, 0 otherwise.</p>
<h3><code>char *buffer_read_on_separator(string_buffer_t *buffer, const char *separator)</code></h3>
<p >Searches for a string ended by a separator in the buffer. First, it tries to search for the whole separator in the string. If that fails, it tries to find any character in the separator. The string is returned without the separator and is ended by a null terminator. Returns a pointer to the start of the read string or NULL if there is nothing available.</p>
<h3><code>char *buffer_read_on_newline(string_buffer_t *buffer)</code></h3>
<p >Searches for a string ended by a newline in the buffer. The string is returned without the newline and is ended by a null terminator. Returns a pointer to the start of the read string or NULL if there is nothing available.</p>
<h3><code>char *buffer_read_all(string_buffer_t *buffer)</code></h3>
<p >Reads the whole unread buffer. Returns a pointer to the start of the read string or NULL if there is nothing available. If you want to get the size that will be read, you can use the <code>buffer_get_read_len</code> function.</p>
<h3><code>uint32_t <a class="el" href="buffer_8h.html#af0aa711f007a7f65b4719e041c106582">buffer_get_read_len(string_buffer_t *buffer)</a></code></h3>
<p >Gets the length of the remaining string that can be read from the buffer.</p>
<h2>Example Usage</h2>
<p >Here's an example code snippet demonstrating the usage of the <code>buffer</code> library:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="buffer_8h.html">buffer.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="_main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a>() {</div>
<div class="line">    <a class="code hl_struct" href="structstring__buffer__s.html">string_buffer_t</a> <a class="code hl_variable" href="tests_2buffer_8c.html#ac8dfdfd6026a82713c34f36bff524b0d">buffer</a>;</div>
<div class="line">    <a class="code hl_function" href="buffer_8h.html#a788c4c8cb68e24e6e9e8dccc2f015d35">buffer_init</a>(&amp;<a class="code hl_variable" href="tests_2buffer_8c.html#ac8dfdfd6026a82713c34f36bff524b0d">buffer</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Write a string to the buffer</span></div>
<div class="line">    <a class="code hl_function" href="lib_2buffer_2buffer_8c.html#a72ce0716be4cce85af719d5c4fa92698">buffer_write</a>(&amp;<a class="code hl_variable" href="tests_2buffer_8c.html#ac8dfdfd6026a82713c34f36bff524b0d">buffer</a>, <span class="stringliteral">&quot;Hello, &quot;</span>, 7);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Write another string to the buffer</span></div>
<div class="line">    <a class="code hl_function" href="lib_2buffer_2buffer_8c.html#a72ce0716be4cce85af719d5c4fa92698">buffer_write</a>(&amp;<a class="code hl_variable" href="tests_2buffer_8c.html#ac8dfdfd6026a82713c34f36bff524b0d">buffer</a>, <span class="stringliteral">&quot;world!&quot;</span>, 6);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Read a string from the buffer until a newline is encountered</span></div>
<div class="line">    <span class="keywordtype">char</span> *str = <a class="code hl_function" href="lib_2buffer_2buffer_8c.html#a41e4b02c4bb2a81a5992af3f34308e1a">buffer_read_on_newline</a>(&amp;<a class="code hl_variable" href="tests_2buffer_8c.html#ac8dfdfd6026a82713c34f36bff524b0d">buffer</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (str != NULL) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Read string: %s\n&quot;</span>, str);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Free the buffer&#39;s content</span></div>
<div class="line">    <a class="code hl_function" href="buffer_8h.html#a6a9e6cd5f8f00e7e4d1e8a32dec18ea9">buffer_free_content</a>(&amp;<a class="code hl_variable" href="tests_2buffer_8c.html#ac8dfdfd6026a82713c34f36bff524b0d">buffer</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="a_main_8cpp_html_a3c04138a5bfe5d72780bb7e82a18e627"><div class="ttname"><a href="_main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a></div><div class="ttdeci">int main(int argc, char **argv)</div><div class="ttdef"><b>Definition:</b> Main.cpp:15</div></div>
<div class="ttc" id="abuffer_8h_html"><div class="ttname"><a href="buffer_8h.html">buffer.h</a></div></div>
<div class="ttc" id="abuffer_8h_html_a6a9e6cd5f8f00e7e4d1e8a32dec18ea9"><div class="ttname"><a href="buffer_8h.html#a6a9e6cd5f8f00e7e4d1e8a32dec18ea9">buffer_free_content</a></div><div class="ttdeci">void buffer_free_content(string_buffer_t *buffer)</div><div class="ttdef"><b>Definition:</b> memory.c:20</div></div>
<div class="ttc" id="abuffer_8h_html_a788c4c8cb68e24e6e9e8dccc2f015d35"><div class="ttname"><a href="buffer_8h.html#a788c4c8cb68e24e6e9e8dccc2f015d35">buffer_init</a></div><div class="ttdeci">void buffer_init(string_buffer_t *buffer)</div><div class="ttdef"><b>Definition:</b> memory.c:13</div></div>
<div class="ttc" id="alib_2buffer_2buffer_8c_html_a41e4b02c4bb2a81a5992af3f34308e1a"><div class="ttname"><a href="lib_2buffer_2buffer_8c.html#a41e4b02c4bb2a81a5992af3f34308e1a">buffer_read_on_newline</a></div><div class="ttdeci">char * buffer_read_on_newline(string_buffer_t *buffer)</div><div class="ttdef"><b>Definition:</b> buffer.c:59</div></div>
<div class="ttc" id="alib_2buffer_2buffer_8c_html_a72ce0716be4cce85af719d5c4fa92698"><div class="ttname"><a href="lib_2buffer_2buffer_8c.html#a72ce0716be4cce85af719d5c4fa92698">buffer_write</a></div><div class="ttdeci">int buffer_write(string_buffer_t *buffer, const char *string, uint32_t len)</div><div class="ttdef"><b>Definition:</b> buffer.c:17</div></div>
<div class="ttc" id="atests_2buffer_8c_html_ac8dfdfd6026a82713c34f36bff524b0d"><div class="ttname"><a href="tests_2buffer_8c.html#ac8dfdfd6026a82713c34f36bff524b0d">buffer</a></div><div class="ttdeci">string_buffer_t buffer</div><div class="ttdef"><b>Definition:</b> buffer.c:13</div></div>
</div><!-- fragment --><p >This example initializes a string buffer, writes two strings to it, reads a string from the buffer until a newline is encountered, and finally frees the buffer's content. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
